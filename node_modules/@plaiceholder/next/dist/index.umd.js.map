{"version":3,"file":"index.umd.js","sources":["../src/index.ts"],"sourcesContent":["export const withPlaiceholder = (nextConfig) => {\n  require(\"sharp\");\n\n  const sharp = \"commonjs sharp\";\n\n  return Object.assign({}, nextConfig, {\n    webpack(config, options) {\n      if (Array.isArray(config.externals)) {\n        config.externals.push({ sharp });\n      } else {\n        config.externals = { ...config.externals, sharp };\n      }\n\n      if (typeof nextConfig?.webpack === \"function\") {\n        return nextConfig.webpack(config, options);\n      }\n\n      return config;\n    },\n  });\n};\n"],"names":["withPlaiceholder","nextConfig","require","sharp","Object","assign","webpack","config","options","Array","isArray","externals","push"],"mappings":";;;;;;;;;;;;;;;;;;;;;;MAAaA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,UAAD,EAAe;IAC7CC,OAAO,CAAC,OAAD,CAAP,CAAA;;IAEA,IAAMC,KAAK,GAAG,gBAAd,CAAA;EAEA,EAAA,OAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,UAAlB,EAA8B;EACnCK,IAAAA,OADmC,EAC3BC,SAAAA,OAAAA,CAAAA,MAD2B,EACnBC,OADmB,EACZ;QACrB,IAAIC,KAAK,CAACC,OAAN,CAAcH,MAAM,CAACI,SAArB,CAAJ,EAAqC;EACnCJ,QAAAA,MAAM,CAACI,SAAP,CAAiBC,IAAjB,CAAsB;EAAET,UAAAA,KAAK,EAALA,KAAAA;WAAxB,CAAA,CAAA;EACD,OAFD,MAEO;EACLI,QAAAA,MAAM,CAACI,SAAP,GAAwBJ,QAAAA,CAAAA,EAAAA,EAAAA,MAAM,CAACI,SAA/B,EAAA;EAA0CR,UAAAA,KAAK,EAALA,KAAAA;EAA1C,SAAA,CAAA,CAAA;EACD,OAAA;;QAED,IAAI,QAAOF,UAAP,IAAOA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,UAAU,CAAEK,OAAnB,CAAA,KAA+B,UAAnC,EAA+C;EAC7C,QAAA,OAAOL,UAAU,CAACK,OAAX,CAAmBC,MAAnB,EAA2BC,OAA3B,CAAP,CAAA;EACD,OAAA;;EAED,MAAA,OAAOD,MAAP,CAAA;EACD,KAAA;EAbkC,GAA9B,CAAP,CAAA;EAeD;;;;;;;;"}