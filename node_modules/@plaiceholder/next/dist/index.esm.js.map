{"version":3,"file":"index.esm.js","sources":["../src/index.ts"],"sourcesContent":["export const withPlaiceholder = (nextConfig) => {\n  require(\"sharp\");\n\n  const sharp = \"commonjs sharp\";\n\n  return Object.assign({}, nextConfig, {\n    webpack(config, options) {\n      if (Array.isArray(config.externals)) {\n        config.externals.push({ sharp });\n      } else {\n        config.externals = { ...config.externals, sharp };\n      }\n\n      if (typeof nextConfig?.webpack === \"function\") {\n        return nextConfig.webpack(config, options);\n      }\n\n      return config;\n    },\n  });\n};\n"],"names":["withPlaiceholder","nextConfig","require","sharp","Object","assign","webpack","config","options","Array","isArray","externals","push"],"mappings":";;;;;;;;;;;;;;;;;IAAaA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,UAAD,EAAe;EAC7CC,OAAO,CAAC,OAAD,CAAP,CAAA;;EAEA,IAAMC,KAAK,GAAG,gBAAd,CAAA;AAEA,EAAA,OAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,UAAlB,EAA8B;AACnCK,IAAAA,OADmC,EAC3BC,SAAAA,OAAAA,CAAAA,MAD2B,EACnBC,OADmB,EACZ;MACrB,IAAIC,KAAK,CAACC,OAAN,CAAcH,MAAM,CAACI,SAArB,CAAJ,EAAqC;AACnCJ,QAAAA,MAAM,CAACI,SAAP,CAAiBC,IAAjB,CAAsB;AAAET,UAAAA,KAAK,EAALA,KAAAA;SAAxB,CAAA,CAAA;AACD,OAFD,MAEO;AACLI,QAAAA,MAAM,CAACI,SAAP,GAAwBJ,QAAAA,CAAAA,EAAAA,EAAAA,MAAM,CAACI,SAA/B,EAAA;AAA0CR,UAAAA,KAAK,EAALA,KAAAA;AAA1C,SAAA,CAAA,CAAA;AACD,OAAA;;MAED,IAAI,QAAOF,UAAP,IAAOA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,UAAU,CAAEK,OAAnB,CAAA,KAA+B,UAAnC,EAA+C;AAC7C,QAAA,OAAOL,UAAU,CAACK,OAAX,CAAmBC,MAAnB,EAA2BC,OAA3B,CAAP,CAAA;AACD,OAAA;;AAED,MAAA,OAAOD,MAAP,CAAA;AACD,KAAA;AAbkC,GAA9B,CAAP,CAAA;AAeD;;;;"}